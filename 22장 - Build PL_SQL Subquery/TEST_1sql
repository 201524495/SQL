DELETE EMP_SAL_TOT
WHERE DEPTNO = 50;

SELECT * FROM EMP_SAL_TOT;

SET VERIFY OFF
DECLARE
    V_DEPTNO EMP.DEPTNO%TYPE := &P_DEPTNO;
    V_SAL    EMP.SAL%TYPE    := &P_SAL;
BEGIN        
    
    IF V_DEPTNO IN (SELECT E.DEPTNO FROM EMP_SAL_TOT E WHERE E.DEPTNO IS NOT NULL) THEN 
            UPDATE EMP_SAL_TOT
            SET EMP_SAL_TOT.SAL_TOT = EMP_SAL_TOT.SAL_TOT + V_SAL
            WHERE EMP_SAL_TOT.DEPTNO = V_DEPTNO; 
    ELSE 
            INSERT INTO EMP_SAL_TOT 
            VALUES(V_DEPTNO, V_SAL);
   
    END IF;   
END;
/
SET VERIFY ON
SELECT * FROM EMP_SAL_TOT;